<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- this jquery should be moved to the bottom -->
    <script src= https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js></script>
  </head>

  <body>

    <div class="container">
      <h1>Survey Questions</h1>
      <hr>

      <h3><strong>About You</strong></h3>
      <h4>Name (required)</h4>
      <input type="text" name="" id="name" class="form-control" required >

      <h4>Link to photo image (required)</h4>
      <input type="text" name="" id="photo" class="form-control" required >

      <hr>

      <h3><strong>01.</strong></h3>
      <h4>You like to indulge in unhealthy food.</h4>
      <select data-placeholder="" class="chosen-select" id="question1">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>02.</strong></h3>
      <h4>You enjoy playing or watching sports.</h4>
      <select data-placeholder="" class="chosen-select" id="question2">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>03.</strong></h3>
      <h4>Music is an essential part of your life.</h4>
      <select data-placeholder="" class="chosen-select" id="question3">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>04.</strong></h3>
      <h4>You enjoy the outdoors.</h4>
      <select data-placeholder="" class="chosen-select" id="question4">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>05.</strong></h3>
      <h4>You enjoy meeting new people.</h4>
      <select data-placeholder="" class="chosen-select" id="question5">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>06.</strong></h3>
      <h4>You enjoy to going out with friends.</h4>
      <select data-placeholder="" class="chosen-select" id="question6">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>07.</strong></h3>
      <h4>You think you are always right.</h4>
      <select data-placeholder="" class="chosen-select" id="question7">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>08.</strong></h3>
      <h4>You stay up to date with the latest technology.</h4>
      <select data-placeholder="" class="chosen-select" id="question8">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>09.</strong></h3>
      <h4>You like to binge on Netflix.</h4>
      <select data-placeholder="" class="chosen-select" id="question9">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <h3><strong>10.</strong></h3>
      <h4>You like animals.</h4>
      <select data-placeholder="" class="chosen-select" id="question10">
        <option value=""></option>
          <option value="1">1 (strongly disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (strongly agree)</option>
        </select>

      <br>
      <br>
      <a href="survey.html"><button type="submit" class="btn btn-primary" id="submit">Submit</button>

      <footer class="footer">
        <div class="container">
        <p>Control Panel</p>
        <p><a href="#">API Friends</a> | <a href="#">Github</a></p>
        </div>
      </footer>
    </div>

<!-- need to finish this part -->
  <script type="text/javascript">
    $("#submit").on("click", function() {
      event.preventDefault()

      //survery data entered
      var newEntry = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        score: [$("#question1").val(""),$("#question2").val(""),$("#question3").val(""),$("#question4").val(""),$("#question5").val(""),$("#question6").val(""),$("#question7").val(""),$("#question8").val(""),$("#question9").val(""),$("#question10").val("")]
      };

      var currentURL = window.location.origin;

      console.log(newEntry);
      console.log(currentURL);

      $.post(currentURL + "/api/friends", newEntry, function(data) {

        //reseting after entry
        $("#name").val("");
        $("#photo").val("");
        $("#question1").val(""),$("#question2").val(""),$("#question3").val(""),$("#question4").val(""),$("#question5").val(""),$("#question6").val(""),$("#question7").val(""),$("#question8").val(""),$("#question9").val(""),$("#question10").val("");
      });
    });
  </script>


</body>
</html>